<div class="subpage-contain subpage-contain-none">
 <section class="collection-hero">
   <div class="collection-hero__overlay"></div>

   <div class="collection-hero__bg">
     <!-- Desktop Background -->
     {% if template == 'collection' and collection.handle == 'all' %}
       <video
         class="desktop-media"
         autoplay
         loop
         muted
         playsinline
       >
         <source src="https://cdn.shopify.com/videos/c/o/v/5f3c1490215c4114aed10d055730c15c.mp4" type="video/mp4">
       </video>
     {% else %}
       {% if collection.metafields.custom.background_video_desktop_ != blank %}
         <video
           class="desktop-media"
           autoplay
           loop
           muted
           playsinline
         >
           <source src="{{ collection.metafields.custom.background_video_desktop_ | file_url }}" type="video/mp4">
         </video>
       {% elsif collection.metafields.custom.background_image != blank %}
         <div
           class="desktop-media"
           style="background-image: url({{ collection.metafields.custom.background_image | img_url: 'master' }});">
         </div>
       {% endif %}
     {% endif %}

     <!-- Mobile Background -->
     {% if template == 'collection' and collection.handle == 'all' %}
       <video
         class="mobile-media"
         autoplay
         loop
         muted
         playsinline
       >
         <source src="https://cdn.shopify.com/videos/c/o/v/4b58eb22f2964cf088ef50b07706fa9b.mp4" type="video/mp4">
       </video>
     {% else %}
       {% if collection.metafields.custom.mobile_background_video != blank %}
         <video
           class="mobile-media"
           autoplay
           loop
           muted
           playsinline
         >
           <source src="{{ collection.metafields.custom.mobile_background_video | file_url }}" type="video/mp4">
         </video>
       {% elsif collection.metafields.custom.mobile_background_image != blank %}
         <div
           class="mobile-media"
           style="background-image: url({{ collection.metafields.custom.mobile_background_image | img_url: 'master' }});">
         </div>
       {% endif %}
     {% endif %}
   </div>

   <div class="collection-hero__content">
     <h1 class="collection-title">{{ collection.title }}</h1>
     {% if collection.description != blank %}
       <p class="collection-description">{{ collection.description }}</p>
     {% endif %}
   </div>
 </section>
</div>

{% schema %}
{
 "name": "Collection Hero",
 "settings": [],
 "presets": [
   {
     "name": "Collection Hero"
   }
 ]
}
{% endschema %}

<style>
/* Collection > hero ------------------------------------------------------------ */

/* General Hero Styling */
.collection-hero {
 position: relative;
 width: 100%;
 height: 480px;
 display: flex;
 justify-content: flex-start;
 align-items: flex-start;
 color: #fff;
 overflow: hidden;
 background-color: #000;
}

/* Opacity Layer */
.collection-hero__overlay {
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 background-color: rgba(0, 0, 0, 0.5);
 z-index: 1;
}

/* Background Container */
.collection-hero__bg {
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
}

/* Desktop Media */
.desktop-media {
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 object-fit: cover;
}

.desktop-media:not(video) {
 background-size: cover;
 background-position: center;
 background-repeat: no-repeat;
}

/* Mobile Media */
.mobile-media {
 display: none;
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 object-fit: cover;
}

.mobile-media:not(video) {
 background-size: cover;
 background-position: center;
 background-repeat: no-repeat;
}

/* Content Styling */
.collection-hero__content {
 position: relative;
 z-index: 2;
 width: 100%;
 padding: 40px;
 display: flex;
 flex-direction: column;
 justify-content: space-between;
 height: 100%;
}

/* Title */
.collection-title {
 margin: 0;
 text-align: left;
 font-size: 90px;
 line-height: 1em;
 font-weight: 700;
 text-transform: uppercase;
 color: white;
 max-width: 800px;
}

/* Description */
.collection-description {
 margin: 0;
 font-size: 1rem;
 text-align: left;
 align-self: flex-end;
}

.collection-hero__content p {
 max-width: 50%;
}

@media (max-width: 768px) {
 .collection-hero {
   height: 70vh;
   min-height: 70vh;
 }

 .desktop-media {
   display: none;
 }

 .mobile-media {
   display: block;
 }

 .collection-hero__content {
   padding: 20px;
 }

 .collection-title {
   text-align: left;
   font-size: 51px;
 }

 .collection-description {
   text-align: left;
 }

 .collection-hero__content p {
   max-width: 100%;
 }
}
</style>